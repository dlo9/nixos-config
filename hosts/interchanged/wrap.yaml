aliases:
  ###########
  ### AWS ###
  ###########

  - alias: az
    program: aws
    keywords:
      - keys: [-l, --login, --logon]
        values: [sso, login]

  #############
  ### Other ###
  #############

  # Print the root cert for a server
  - alias: get-ca
    program: sh
    arguments:
      - key: -c
        value: ""
        cleared-by: [-c]
    keywords:
      - keys: [--url]
        values:
          - -c
          - openssl s_client -showcerts -connect "$#" 2>/dev/null </dev/null | awk 'in_cert { cert = cert "\\n" \$0 } /BEGIN CERT/ { in_cert = 1; cert = \$0 } /END CERT/ { in_cert = 0 } END { print cert }'

  # Print the DNS names for a cert
  - alias: get-ca-sans
    program: sh
    arguments:
      - key: -c
        value: ""
        cleared-by: [-c]
    keywords:
      - keys: [--url]
        values:
          - -c
          - openssl s_client -connect "$#" 2>/dev/null </dev/null | openssl x509 -noout -text | grep "Subject Alternative Name" -A2 | grep -Eo "DNS:[a-zA-Z 0-9.*-]*" |  sed "s/DNS://g"

  - alias: a
    program: awk

    keywords:
      - keys: [--unique, -u]
        values: ['!a[\$0]++']
